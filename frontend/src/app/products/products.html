<div class="products-bg"></div>
<h2>Books</h2>

<div *ngIf="loading">Loading...</div>
<div *ngIf="!loading && products.length === 0">No books found.</div>

<div *ngIf="!loading && paginatedProducts.length > 0" class="products-grid">
    <div *ngFor="let product of paginatedProducts" class="book">
        <h3>{{ product.name }}</h3>
        <img *ngIf="product.imageUrl" [src]="product.imageUrl" alt="{{ product.name }}" class="book-image" />
        <p>{{ product.description }}</p>
        <p class="label">Authors: <span class="value">{{ product.authors || 'Unknown' }}</span></p>
        <p class="label">Category: <span class="value">{{ product.category }}</span></p>
        <p class="label">Price: <span class="value">â‚¹{{ product.price }}</span></p>
        <p class="label">
            Status:
            <span [ngClass]="{'available': product.available, 'unavailable': !product.available}" class="value">
                {{ product.available ? 'Available' : 'Out of Stock' }}
            </span>
        </p>

        <button (click)="addToCart(product.id)" [disabled]="!product.available">Add to Cart</button>
    </div>
</div>
<div class="pagination" *ngIf="totalPages > 1">
    <button (click)="goToPrevious()" [disabled]="currentPage === 1">Previous</button>

    <button *ngFor="let page of [].constructor(totalPages); let i = index" (click)="goToPage(i + 1)"
        [class.active]="currentPage === (i + 1)">
        {{ i + 1 }}
    </button>

    <button (click)="goToNext()" [disabled]="currentPage === totalPages">Next</button>
</div>
<h2>My Orders</h2>

<div *ngIf="orders.length === 0">No orders found.</div>

<div *ngFor="let order of orders" class="order-card">
    <h3>Order ID: {{ order.id }}</h3>
    <hr class="dashed-hr" />
    <p><strong>Address:</strong> {{ order.addressLine1 }}, {{ order.city }}, {{ order.state }}, {{ order.pinCode }}</p>
    <hr class="dashed-hr" />
    <p><strong>Payment Method:</strong> {{ order.paymentMethod }}</p>
    <hr class="dashed-hr" />
    <p><strong>Order Date:</strong> {{ order.orderDate | date }}</p>
    <hr class="dashed-hr" />

    <h4>Items:</h4>
    <ul class="order-items-list">
        <li *ngFor="let item of order.orderItems">
            <span class="order-item-name">{{ item.product?.name || 'Unknown' }}</span>
            <span class="order-item-detail">Qty: {{ item.quantity }}</span>
            <span class="order-item-detail">Price: ₹{{ item.price || item.product?.price }}</span>
        </li>
    </ul>
    <div class="order-total">
        <strong>Total Price:</strong>
        ₹{{ getTotalPrice(order) }}
    </div>
    <button class="cancel-order-btn" (click)="cancelOrder(order.id)">Cancel Order</button>
</div>